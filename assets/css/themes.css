/* ==========================================================================
   Abakada - Premium Design Token System
   Enterprise-grade palette with WCAG-compliant contrast ratios
   
   Brand Palette:
   - Primary: #107f87 (Teal) - Main accent, CTAs, interactive elements
   - Secondary: #1bcace (Cyan) - Supporting accent, highlights
   - Neutrals: #232323, #c4c4c4, #ffffff, #000000
   
   Design Philosophy:
   - Flat, solid colors (no gradients)
   - Subtle, refined accent usage
   - Clear visual hierarchy
   - Premium, minimal aesthetic
   - WCAG AA compliant contrast ratios
   ========================================================================== */

/* ==========================================================================
   Design Token Definitions
   ========================================================================== */

:root {
  /* Core Brand Tokens */
  --color-primary: #107f87;
  --color-primary-hover: #0d6a71;
  --color-primary-active: #0a555b;
  --color-primary-light: #e8f4f5;
  --color-primary-muted: rgba(16, 127, 135, 0.12);
  
  --color-secondary: #1bcace;
  --color-secondary-hover: #17b5b9;
  --color-secondary-active: #13a0a4;
  --color-secondary-light: #e6f9fa;
  
  --color-neutral-dark: #232323;
  --color-neutral: #c4c4c4;
  --color-neutral-light: #e0e0e0;
  
  --color-white: #ffffff;
  --color-black: #000000;
}

/* ==========================================================================
   Light Theme (Default)
   Premium enterprise light mode
   ========================================================================== */

:root,
[data-theme="light"] {
  /* Brand Colors */
  --brand-primary: var(--color-primary);
  --brand-primary-hover: var(--color-primary-hover);
  --brand-primary-active: var(--color-primary-active);
  --brand-primary-light: var(--color-primary-light);
  --brand-secondary: var(--color-secondary);
  --brand-neutral: var(--color-neutral);

  /* Background Colors - Clean, minimal surfaces */
  --bg-primary: var(--color-white);
  --bg-secondary: #f5f5f7;
  --bg-tertiary: #e8e8ed;
  --bg-elevated: var(--color-white);
  --bg-glass: rgba(255, 255, 255, 0.92);

  /* Text Colors - High contrast for readability */
  --text-primary: var(--color-neutral-dark);
  --text-secondary: #4a4a4a;
  --text-tertiary: #6e6e73;
  --text-muted: #8e8e93;
  --text-inverse: var(--color-white);

  /* Border Colors - Subtle, refined */
  --border-primary: var(--color-neutral);
  --border-secondary: #e8e8ed;
  --border-focus: #86868b;
  --border-accent: rgba(16, 127, 135, 0.4);

  /* Accent Colors - Primary brand application */
  --accent-primary: var(--color-primary);
  --accent-hover: var(--color-primary-hover);
  --accent-active: var(--color-primary-active);
  --accent-subtle: rgba(16, 127, 135, 0.08);
  --accent-subtle-hover: rgba(16, 127, 135, 0.14);

  /* Category Colors - Harmonized, professional palette for 45 categories */
  /* Productivity Group */
  --category-doc: var(--color-primary);
  --category-notes: #e67e22;
  --category-project: #2980b9;
  --category-communication: #8e44ad;
  --category-writing: #c0392b;
  
  /* Creative Group */
  --category-design: #d35400;
  --category-desktop: #9b59b6;
  --category-visual: var(--color-secondary);
  --category-cms: #e91e63;
  --category-3d: #7b1fa2;
  --category-photography: #e64a19;
  
  /* Data & Research Group */
  --category-data: #27ae60;
  --category-math: var(--color-secondary);
  --category-reference: #f39c12;
  --category-ai-ml: #5e35b1;
  --category-science: #00838f;
  
  /* Security Group */
  --category-encryption: #0097a7;
  --category-password: var(--color-primary);
  --category-privacy: #7b1fa2;
  --category-security-tools: #c62828;
  
  /* Media Group */
  --category-media: #f9a825;
  --category-ebook: var(--color-primary);
  --category-audio: #ad1457;
  --category-video: #d84315;
  --category-gaming: #558b2f;
  
  /* Utilities Group */
  --category-file: #757575;
  --category-geo: #1565c0;
  --category-health: #c2185b;
  --category-finance: #2e7d32;
  --category-education: #0288d1;
  --category-networking: #303f9f;
  --category-automation: #5d4037;
  --category-backup: #546e7a;
  --category-homelab: #388e3c;
  
  /* Development Group */
  --category-development: #1976d2;
  --category-devops: #ef6c00;
  --category-database: #00796b;
  --category-monitoring: #9e9d24;
  --category-testing: #0097a7;
  --category-api: #7b1fa2;
  --category-mobile: #c2185b;
  --category-web: #303f9f;
  --category-virtualization: #512da8;
  
  /* Business Group */
  --category-ecommerce: #388e3c;
  --category-crm: #ef6c00;

  /* Status Colors - Clear semantic meaning */
  --success: #27ae60;
  --success-subtle: rgba(39, 174, 96, 0.12);
  --warning: #f39c12;
  --warning-subtle: rgba(243, 156, 18, 0.12);
  --error: #e74c3c;
  --error-subtle: rgba(231, 76, 60, 0.12);
  --info: var(--color-primary);
  --info-subtle: rgba(16, 127, 135, 0.12);

  /* Card Styles - Premium elevation */
  --card-bg: var(--color-white);
  --card-bg-hover: #fafafa;
  --card-border: #e8e8ed;
  --card-border-hover: var(--color-neutral);
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --card-shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.08), 0 4px 10px rgba(0, 0, 0, 0.04);

  /* Navigation - Clean, minimal */
  --nav-bg: rgba(255, 255, 255, 0.92);
  --nav-border: rgba(0, 0, 0, 0.08);
  --nav-blur: 20px;

  /* Modal - Premium overlay */
  --modal-backdrop: rgba(0, 0, 0, 0.4);
  --modal-bg: var(--color-white);
  --modal-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);

  /* Input - Clean, focused */
  --input-bg: var(--color-white);
  --input-border: var(--color-neutral);
  --input-border-hover: #86868b;
  --input-focus-ring: rgba(16, 127, 135, 0.25);

  /* Scrollbar - Subtle */
  --scrollbar-track: #f5f5f7;
  --scrollbar-thumb: var(--color-neutral);
  --scrollbar-thumb-hover: #8e8e93;

  /* Featured Section */
  --featured-bg: #f5f5f7;

  /* Data Visualization - Accessible palette */
  --chart-1: var(--color-primary);
  --chart-2: var(--color-secondary);
  --chart-3: #27ae60;
  --chart-4: #f39c12;
  --chart-5: #8e44ad;
  --chart-6: #2980b9;
}

/* ==========================================================================
   Dark Theme
   Premium enterprise dark mode
   ========================================================================== */

[data-theme="dark"] {
  /* Brand Colors - Optimized for dark backgrounds */
  --brand-primary: var(--color-secondary);
  --brand-primary-hover: #3dd5d9;
  --brand-primary-active: var(--color-primary);
  --brand-primary-light: rgba(27, 202, 206, 0.15);
  --brand-secondary: #5ce1e5;
  --brand-neutral: #98989d;

  /* Background Colors - Deep, rich surfaces */
  --bg-primary: var(--color-black);
  --bg-secondary: #1c1c1e;
  --bg-tertiary: #2c2c2e;
  --bg-elevated: #1c1c1e;
  --bg-glass: rgba(28, 28, 30, 0.92);

  /* Text Colors - Optimized for dark mode readability */
  --text-primary: #f5f5f7;
  --text-secondary: #a1a1a6;
  --text-tertiary: #8e8e93;
  --text-muted: #636366;
  --text-inverse: var(--color-black);

  /* Border Colors - Subtle definition */
  --border-primary: rgba(255, 255, 255, 0.12);
  --border-secondary: rgba(255, 255, 255, 0.06);
  --border-focus: rgba(255, 255, 255, 0.24);
  --border-accent: rgba(27, 202, 206, 0.5);

  /* Accent Colors - Vibrant on dark */
  --accent-primary: var(--color-secondary);
  --accent-hover: #3dd5d9;
  --accent-active: var(--color-primary);
  --accent-subtle: rgba(27, 202, 206, 0.15);
  --accent-subtle-hover: rgba(27, 202, 206, 0.22);

  /* Category Colors - Adjusted for dark mode visibility (45 categories) */
  /* Productivity Group */
  --category-doc: var(--color-secondary);
  --category-notes: #ffa726;
  --category-project: #42a5f5;
  --category-communication: #ab47bc;
  --category-writing: #ef5350;
  
  /* Creative Group */
  --category-design: #ffb74d;
  --category-desktop: #ba68c8;
  --category-visual: #4dd0e1;
  --category-cms: #f06292;
  --category-3d: #ce93d8;
  --category-photography: #ff8a65;
  
  /* Data & Research Group */
  --category-data: #66bb6a;
  --category-math: #4dd0e1;
  --category-reference: #ffca28;
  --category-ai-ml: #b39ddb;
  --category-science: #26c6da;
  
  /* Security Group */
  --category-encryption: #4dd0e1;
  --category-password: var(--color-secondary);
  --category-privacy: #ba68c8;
  --category-security-tools: #ef5350;
  
  /* Media Group */
  --category-media: #ffee58;
  --category-ebook: var(--color-secondary);
  --category-audio: #f06292;
  --category-video: #ff8a65;
  --category-gaming: #9ccc65;
  
  /* Utilities Group */
  --category-file: #90a4ae;
  --category-geo: #42a5f5;
  --category-health: #f06292;
  --category-finance: #66bb6a;
  --category-education: #29b6f6;
  --category-networking: #7986cb;
  --category-automation: #a1887f;
  --category-backup: #90a4ae;
  --category-homelab: #81c784;
  
  /* Development Group */
  --category-development: #64b5f6;
  --category-devops: #ffb74d;
  --category-database: #4db6ac;
  --category-monitoring: #dce775;
  --category-testing: #4dd0e1;
  --category-api: #ce93d8;
  --category-mobile: #f06292;
  --category-web: #7986cb;
  --category-virtualization: #b39ddb;
  
  /* Business Group */
  --category-ecommerce: #81c784;
  --category-crm: #ffb74d;

  /* Status Colors - Vibrant for dark mode */
  --success: #66bb6a;
  --success-subtle: rgba(102, 187, 106, 0.15);
  --warning: #ffca28;
  --warning-subtle: rgba(255, 202, 40, 0.15);
  --error: #ef5350;
  --error-subtle: rgba(239, 83, 80, 0.15);
  --info: var(--color-secondary);
  --info-subtle: rgba(27, 202, 206, 0.15);

  /* Card Styles - Elevated surfaces */
  --card-bg: #1c1c1e;
  --card-bg-hover: #2c2c2e;
  --card-border: rgba(255, 255, 255, 0.08);
  --card-border-hover: rgba(255, 255, 255, 0.16);
  --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  --card-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.5);

  /* Navigation - Translucent dark */
  --nav-bg: rgba(0, 0, 0, 0.92);
  --nav-border: rgba(255, 255, 255, 0.08);
  --nav-blur: 20px;

  /* Modal - Deep overlay */
  --modal-backdrop: rgba(0, 0, 0, 0.7);
  --modal-bg: #1c1c1e;
  --modal-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);

  /* Input - Dark surfaces */
  --input-bg: #1c1c1e;
  --input-border: rgba(255, 255, 255, 0.12);
  --input-border-hover: rgba(255, 255, 255, 0.24);
  --input-focus-ring: rgba(27, 202, 206, 0.35);

  /* Scrollbar - Subtle dark */
  --scrollbar-track: #1c1c1e;
  --scrollbar-thumb: #48484a;
  --scrollbar-thumb-hover: #636366;

  /* Featured Section */
  --featured-bg: #1c1c1e;

  /* Data Visualization - Dark mode palette */
  --chart-1: var(--color-secondary);
  --chart-2: #5ce1e5;
  --chart-3: #66bb6a;
  --chart-4: #ffca28;
  --chart-5: #ba68c8;
  --chart-6: #42a5f5;
}


/* ==========================================================================
   System Preference Detection
   Respects user's OS-level dark mode preference
   ========================================================================== */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    /* Brand Colors */
    --brand-primary: var(--color-secondary);
    --brand-primary-hover: #3dd5d9;
    --brand-primary-active: var(--color-primary);
    --brand-primary-light: rgba(27, 202, 206, 0.15);
    --brand-secondary: #5ce1e5;
    --brand-neutral: #98989d;

    /* Background Colors */
    --bg-primary: var(--color-black);
    --bg-secondary: #1c1c1e;
    --bg-tertiary: #2c2c2e;
    --bg-elevated: #1c1c1e;
    --bg-glass: rgba(28, 28, 30, 0.92);

    /* Text Colors */
    --text-primary: #f5f5f7;
    --text-secondary: #a1a1a6;
    --text-tertiary: #8e8e93;
    --text-muted: #636366;
    --text-inverse: var(--color-black);

    /* Border Colors */
    --border-primary: rgba(255, 255, 255, 0.12);
    --border-secondary: rgba(255, 255, 255, 0.06);
    --border-focus: rgba(255, 255, 255, 0.24);
    --border-accent: rgba(27, 202, 206, 0.5);

    /* Accent Colors */
    --accent-primary: var(--color-secondary);
    --accent-hover: #3dd5d9;
    --accent-active: var(--color-primary);
    --accent-subtle: rgba(27, 202, 206, 0.15);
    --accent-subtle-hover: rgba(27, 202, 206, 0.22);

    /* Card Styles */
    --card-bg: #1c1c1e;
    --card-bg-hover: #2c2c2e;
    --card-border: rgba(255, 255, 255, 0.08);
    --card-border-hover: rgba(255, 255, 255, 0.16);
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    --card-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.5);

    /* Navigation */
    --nav-bg: rgba(0, 0, 0, 0.92);
    --nav-border: rgba(255, 255, 255, 0.08);

    /* Modal */
    --modal-backdrop: rgba(0, 0, 0, 0.7);
    --modal-bg: #1c1c1e;

    /* Input */
    --input-bg: #1c1c1e;
    --input-border: rgba(255, 255, 255, 0.12);
    --input-border-hover: rgba(255, 255, 255, 0.24);
    --input-focus-ring: rgba(27, 202, 206, 0.35);

    /* Scrollbar */
    --scrollbar-track: #1c1c1e;
    --scrollbar-thumb: #48484a;
    --scrollbar-thumb-hover: #636366;

    /* Featured Section */
    --featured-bg: #1c1c1e;
    
    /* Status Colors */
    --success: #66bb6a;
    --success-subtle: rgba(102, 187, 106, 0.15);
    --warning: #ffca28;
    --warning-subtle: rgba(255, 202, 40, 0.15);
    --error: #ef5350;
    --error-subtle: rgba(239, 83, 80, 0.15);
    --info: var(--color-secondary);
    --info-subtle: rgba(27, 202, 206, 0.15);
  }
}

/* ==========================================================================
   Theme Transition
   Smooth color transitions when switching themes
   ========================================================================== */

html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: 
    background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ==========================================================================
   Scrollbar Styling
   Premium, minimal scrollbar design
   ========================================================================== */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

/* ==========================================================================
   Focus Visible States
   WCAG-compliant focus indicators
   ========================================================================== */

:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* ==========================================================================
   High Contrast Mode Support
   Enhanced accessibility for users who need higher contrast
   ========================================================================== */

@media (prefers-contrast: high) {
  :root,
  [data-theme="light"] {
    --text-primary: var(--color-black);
    --text-secondary: var(--color-neutral-dark);
    --border-primary: var(--color-black);
    --card-border: var(--color-black);
  }

  [data-theme="dark"] {
    --text-primary: var(--color-white);
    --text-secondary: #f5f5f7;
    --border-primary: var(--color-white);
    --card-border: var(--color-white);
  }
}

/* ==========================================================================
   Reduced Transparency Support
   For users who prefer reduced transparency
   ========================================================================== */

@media (prefers-reduced-transparency: reduce) {
  :root,
  [data-theme="light"] {
    --bg-glass: var(--color-white);
    --nav-bg: var(--color-white);
  }

  [data-theme="dark"] {
    --bg-glass: #1c1c1e;
    --nav-bg: var(--color-black);
  }
}
